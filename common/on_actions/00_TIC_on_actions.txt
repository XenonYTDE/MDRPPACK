on_actions = {

	on_startup = {

		effect = {
			set_variable = { global.TIC_office_1 = ZZZ.id }
			set_variable = { global.TIC_office_2 = ZZZ.id }
			set_variable = { global.TIC_office_3 = ZZZ.id }
			set_variable = { global.TIC_office_4 = ZZZ.id }
			set_variable = { global.TIC_office_5 = ZZZ.id }
			set_variable = { global.TIC_office_6 = ZZZ.id }
			set_variable = { global.TIC_office_7 = ZZZ.id }
			set_variable = { global.TIC_office_8 = ZZZ.id }
			set_variable = { global.TIC_office_9 = ZZZ.id }
			set_variable = { global.TIC_office_10 = ZZZ.id }
			set_variable = { global.TIC_office_11 = ZZZ.id }
			set_variable = { global.TIC_office_12 = ZZZ.id }
			set_variable = { global.TIC_office_13 = ZZZ.id }
			set_variable = { global.TIC_office_14 = ZZZ.id }
			set_variable = { global.TIC_office_15 = ZZZ.id }
			set_variable = { global.TIC_office_16 = ZZZ.id }
			set_variable = { global.TIC_office_17 = ZZZ.id }
			set_variable = { global.TIC_office_18 = ZZZ.id }
			set_variable = { global.TIC_office_19 = ZZZ.id }
			set_variable = { global.TIC_office_20 = ZZZ.id }
			set_variable = { global.TIC_office_21 = ZZZ.id }
			set_variable = { global.TIC_office_22 = ZZZ.id }
			set_variable = { global.TIC_office_23 = ZZZ.id }
			set_variable = { global.TIC_office_24 = ZZZ.id }
			set_variable = { global.TIC_office_25 = ZZZ.id }

			every_country = {
			#	limit = {
			#		capital_scope = {
			#			OR = {
			#			is_on_continent = europe
			#			is_on_continent = asia
			#			}
			#		}
			#	}
				add_ideas = TIC_member
			}
			
			every_country = {
				limit = { has_idea = TIC_member }
				set_variable = { var = THIS.TIC_c_unity max = 1 }
				set_variable = { var = THIS.TIC_c_unity min = 0 }
				set_variable = { THIS.TIC_c_unity = random }
				TIC_var_update = yes
			}

			random_country = {
				TIC_parliament_init = yes
				TIC_parl_elections = yes
				TIC_council_recalc = yes
			}
			set_variable = { global.TIC_parl_elections_cd = 3 }

		}


	}

	on_daily = {

		effect = {
			# Parliament Vote Countdown
			if = {
				limit = { 
					has_global_flag = TIC_parl_ongoing_vote_flag 
					NOT = { has_global_flag = daily_countdown_parl_flag } 
				}
				if = {
					limit = {
						check_variable = { global.TIC_parl_ongoing_vote_d > 0 }
					}
					subtract_from_variable = { global.TIC_parl_ongoing_vote_d = 1 }
					update_TIC_dirty_variable = yes
				}
				else = {
					if = {
						limit = {
							OR = {
								check_variable = { global.TIC_parl_sup_count > global.TIC_supermajority_count }
								check_variable = { global.TIC_parl_sup_count = global.TIC_supermajority_count }
							}
						}
						TIC_parl_pass_agenda = yes
					}
					if = {
						limit = {
							OR = {
								check_variable = { global.TIC_parl_rej_count > global.TIC_supermajority_count }
								check_variable = { global.TIC_parl_rej_count = global.TIC_supermajority_count }
							}
						}
						TIC_parl_block_agenda = yes
					}
					clr_global_flag = TIC_parl_ongoing_vote_flag
					update_TIC_dirty_variable = yes
				}
				set_global_flag = { flag = daily_countdown_parl_flag value = 1 days = 1 }
			}
			# Parliament Elections Cooldown
			if = {
				limit = { NOT = { has_global_flag = daily_countdown_flag } }
				if = {
					limit = {
						check_variable = { global.TIC_parl_elections_cd > 0 }
					}
					subtract_from_variable = { global.TIC_parl_elections_cd = 1 }
					update_TIC_dirty_variable = yes
				}
				else = {
					set_variable = { global.TIC_parl_elections_cd = 30 }
					TIC_parl_elections = yes
					update_TIC_dirty_variable = yes
				}
				set_global_flag = { flag = daily_countdown_flag value = 1 days = 1 }
			}
			# Council Vote Countdown
			if = {
				limit = { 
					has_global_flag = TIC_council_ongoing_vote_flag 
					NOT = { has_global_flag = daily_countdown_council_flag } 
				}
				if = {
					limit = {
						check_variable = { global.TIC_council_ongoing_vote_d > 0 }
					}
					subtract_from_variable = { global.TIC_council_ongoing_vote_d = 1 }
					update_TIC_dirty_variable = yes
				}
				else = {
					if = {
						limit = {
							AND = {
								OR = {
									check_variable = { global.TIC_country_sup_count > global.TIC_country_sm_count }
									check_variable = { global.TIC_country_sup_count = global.TIC_country_sm_count }
								}
								OR = {
									check_variable = { global.TIC_pop_sup_count > global.TIC_pop_sm_count }
									check_variable = { global.TIC_pop_sup_count = global.TIC_pop_sm_count }
								}
							}
						}
						TIC_parl_pass_agenda = yes
					}
					if = {
						limit = {
							AND = {
								OR = {
									check_variable = { global.TIC_pop_rej_count > global.TIC_country_sm_count }
									check_variable = { global.TIC_pop_rej_count = global.TIC_country_sm_count }
								}
								OR = {
									check_variable = { global.TIC_pop_rej_count > global.TIC_pop_sm_count }
									check_variable = { global.TIC_pop_rej_count = global.TIC_pop_sm_count }
								}
							}
						}
						TIC_parl_block_agenda = yes
					}
					clr_global_flag = TIC_council_ongoing_vote_flag
					update_TIC_dirty_variable = yes
				}
				set_global_flag = { flag = daily_countdown_council_flag value = 1 days = 1 }
			}

		}
		

	}

}