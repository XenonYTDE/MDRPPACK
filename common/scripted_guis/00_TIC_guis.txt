scripted_gui = {

	# The button to actually open up the UI
	open_the_TIC_scripted_gui = {
		context_type = player_context
		window_name = "TIC_open_the_main_window"

		dirty = global.TIC_dirty_update_var

		visible = {
			NOT = { has_global_flag = GAME_RULE_EU_disabled }
			is_ai = no
		}

		triggers = { TIC_open_the_gui_enabled = { is_ai = no } }

		effects = {
			TIC_open_the_gui_click = {
				if = { limit = { NOT = { has_country_flag = new_TIC_open  } }
					TIC_tab_selection = yes
					set_country_flag = TIC_offices_tab_open
					set_country_flag = new_TIC_open
				}
				else = {
					clr_country_flag = new_TIC_open
				}
				update_TIC_dirty_variable = yes
				TIC_var_update = yes
			}
		}
	}

	intercontinental_confederation_gui = {
		context_type = player_context
		window_name = "TIC_main_background_window"
		dirty = global.TIC_dirty_update_var

		visible = {
			NOT = { has_global_flag = GAME_RULE_EU_disabled }
			OR = {
				is_ai = yes
				has_country_flag = new_TIC_open
			}
		}

		# AI Triggering Section
		# ai_enabled = Allowed for the AI
		# ai_check = Ensures they are in the TIC before opening the GUI
		ai_enabled = { NOT = { has_global_flag = GAME_RULE_EU_disabled } }
		ai_check = {
			OR = {
				has_idea = pog_hegemony
				has_idea = superpower
				has_idea = great_power
				is_in_array = { global.TIC_member = THIS.id }
			}
		}
		# Test Interval
		ai_test_interval = 24
		ai_max_weight_taken_per_test = 1

		properties = {
			TIC_office_1_flag = { image = "[?global.TIC_office_1.GetFlag]" }
			TIC_office_2_flag = { image = "[?global.TIC_office_2.GetFlag]" }
			TIC_office_3_flag = { image = "[?global.TIC_office_3.GetFlag]" }
			TIC_office_4_flag = { image = "[?global.TIC_office_4.GetFlag]" }
			TIC_office_5_flag = { image = "[?global.TIC_office_5.GetFlag]" }
			TIC_office_6_flag = { image = "[?global.TIC_office_6.GetFlag]" }
			TIC_office_7_flag = { image = "[?global.TIC_office_7.GetFlag]" }
			TIC_office_8_flag = { image = "[?global.TIC_office_8.GetFlag]" }
			TIC_office_9_flag = { image = "[?global.TIC_office_9.GetFlag]" }
			TIC_office_10_flag = { image = "[?global.TIC_office_10.GetFlag]" }
			TIC_office_11_flag = { image = "[?global.TIC_office_11.GetFlag]" }
			TIC_office_12_flag = { image = "[?global.TIC_office_12.GetFlag]" }
			TIC_office_13_flag = { image = "[?global.TIC_office_13.GetFlag]" }
			TIC_office_14_flag = { image = "[?global.TIC_office_14.GetFlag]" }
			TIC_office_15_flag = { image = "[?global.TIC_office_15.GetFlag]" }
			TIC_office_16_flag = { image = "[?global.TIC_office_16.GetFlag]" }
			TIC_office_17_flag = { image = "[?global.TIC_office_17.GetFlag]" }
			TIC_office_18_flag = { image = "[?global.TIC_office_18.GetFlag]" }
			TIC_office_19_flag = { image = "[?global.TIC_office_19.GetFlag]" }
			TIC_office_20_flag = { image = "[?global.TIC_office_20.GetFlag]" }
			TIC_office_21_flag = { image = "[?global.TIC_office_21.GetFlag]" }
			TIC_office_22_flag = { image = "[?global.TIC_office_22.GetFlag]" }
			TIC_office_23_flag = { image = "[?global.TIC_office_23.GetFlag]" }
			TIC_office_24_flag = { image = "[?global.TIC_office_24.GetFlag]" }
			TIC_office_25_flag = { image = "[?global.TIC_office_25.GetFlag]" }

			TIC_parliament_president_flag = { image = "[?global.TIC_office_2.GetFlag]" }
			TIC_council_president_flag = { image = "[?global.TIC_office_1.GetFlag]" }
		}

		triggers = {

			TIC_main_gui_bg_logo_visible = {
				NOT = {
					has_country_flag = TIC_offices_tab_open
					has_country_flag = TIC_info_tab_open
					has_country_flag = TIC_parliament_tab_open
					has_country_flag = TIC_council_tab_open
					has_country_flag = TIC_bank_tab_open
					has_country_flag = TIC_institutions_tab_open
					has_country_flag = TIC_military_tab_open
					has_country_flag = TIC_space_tab_open
					has_country_flag = TIC_legislations_tab_open
				}
			}

		# Upper Buttons
			TIC_upper_button_2_click_enabled = {
				has_idea = TIC_member
			}
			TIC_upper_button_3_click_enabled = {
				has_idea = TIC_member
			}
			TIC_upper_button_4_click_enabled = {
				has_idea = TIC_member
			}
			TIC_upper_button_3_b_click_enabled = {
				has_idea = TIC_member
			}
			TIC_upper_button_4_b_click_enabled = {
				has_idea = TIC_member
			}
			TIC_upper_button_5_click_enabled = {
				has_idea = TIC_member
			}
			TIC_upper_button_6_click_enabled = {
				has_idea = TIC_member
			}
			TIC_upper_button_7_click_enabled = {
				has_idea = TIC_member
			}
			TIC_upper_button_8_click_enabled = {
				has_idea = TIC_member
			}
			TIC_upper_button_9_click_enabled = {
				has_idea = TIC_member
			}

			
			TIC_upper_button_3_b_visible = {
				has_global_flag = TIC_parl_ongoing_vote_flag
			}
			TIC_upper_button_4_b_visible = {
				has_global_flag = TIC_council_ongoing_vote_flag
			}

		# Offices

			# Office 1
			TIC_office_1_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_1_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_1_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_1_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_1_taken }
			}
			# Office 2
			TIC_office_2_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_2_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_2_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_2_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_2_taken }
			}
			# Office 3
			TIC_office_3_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_3_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_3_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_3_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_3_taken }
			}
			# Office 4
			TIC_office_4_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_4_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_4_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_4_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_4_taken }
			}
			# Office 5
			TIC_office_5_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_5_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_5_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_5_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_5_taken }
			}
			# Office 6
			TIC_office_6_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_6_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_6_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_6_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_6_taken }
			}
			# Office 7
			TIC_office_7_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_7_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_7_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_7_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_7_taken }
			}
			# Office 8
			TIC_office_8_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_8_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_8_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_8_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_8_taken }
			}
			# Office 9
			TIC_office_9_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_9_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_9_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_9_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_9_taken }
			}
			# Office 10
			TIC_office_10_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_10_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_10_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_10_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_10_taken }
			}
			# Office 11
			TIC_office_11_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_11_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_11_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_11_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_11_taken }
			}
			# Office 12
			TIC_office_12_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_12_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_12_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_12_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_12_taken }
			}
			# Office 13
			TIC_office_13_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_13_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_13_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_13_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_13_taken }
			}
			# Office 14
			TIC_office_14_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_14_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_14_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_14_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_14_taken }
			}
			# Office 15
			TIC_office_15_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_15_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_15_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_15_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_15_taken }
			}
			# Office 16
			TIC_office_16_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_16_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_16_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_16_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_16_taken }
			}
			# Office 17
			TIC_office_17_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_17_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_17_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_17_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_17_taken }
			}
			# Office 18
			TIC_office_18_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_18_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_18_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_18_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_18_taken }
			}
			# Office 19
			TIC_office_19_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_19_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_19_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_19_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_19_taken }
			}
			# Office 20
			TIC_office_20_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_20_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_20_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_20_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_20_taken }
			}
			# Office 21
			TIC_office_21_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_21_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_21_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_21_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_21_taken }
			}
			# Office 22
			TIC_office_22_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_22_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_22_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_22_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_22_taken }
			}
			# Office 23
			TIC_office_23_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_23_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_23_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_23_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_23_taken }
			}
			# Office 24
			TIC_office_24_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_24_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_24_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_24_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_24_taken }
			}
			# Office 25
			TIC_office_25_flag_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_25_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_25_text_visible = {
				TIC_offices_tab_open_trigger =  yes
			}
			TIC_office_25_click_enabled = {
				has_idea = TIC_member
				NOT = { has_country_flag = TIC_holding_office }
				NOT = { has_global_flag = TIC_office_25_taken }
			}

		# TIC Info

			TIC_info_country_visible = {
				TIC_info_tab_open_trigger = yes
			}
			TIC_info_population_visible = {
				TIC_info_tab_open_trigger = yes
			}
			TIC_info_ratio_visible = {
				TIC_info_tab_open_trigger = yes
			}
			TIC_info_unity_visible = {
				TIC_info_tab_open_trigger = yes
			}
			TIC_info_member_count_visible = {
				TIC_info_tab_open_trigger = yes
			}
			TIC_info_poptotal_visible = {
				TIC_info_tab_open_trigger = yes
			}
			TIC_info_gdp_total_visible = {
				TIC_info_tab_open_trigger = yes
			}
			TIC_info_gdpc_visible = {
				TIC_info_tab_open_trigger = yes
			}
			TIC_info_factories_visible = {
				TIC_info_tab_open_trigger = yes
			}
			TIC_unity_gdisplay_visible = {
				TIC_info_tab_open_trigger = yes
			}
			TIC_unity_gplus_visible = {
				TIC_info_tab_open_trigger = yes
			}
			TIC_unity_gminus_visible = {
				TIC_info_tab_open_trigger = yes
			}
			TIC_unity_cdisplay_visible = {
				TIC_info_tab_open_trigger = yes
			}
			TIC_unity_cplus_visible = {
				TIC_info_tab_open_trigger = yes
			}
			TIC_unity_cminus_visible = {
				TIC_info_tab_open_trigger = yes
			}

			TIC_unity_gplus_click_enabled = {
				has_political_power > TIC_unity_pp_cost_limit
				check_variable = { global.TIC_unity < 1 }
			}
			TIC_unity_gminus_click_enabled = {
				has_political_power > TIC_unity_pp_cost_limit
				check_variable = { global.TIC_unity > 0 }
			}
			TIC_unity_cplus_click_enabled = {
				has_political_power > 99
				check_variable = { THIS.TIC_c_unity < 1 }
			}
			TIC_unity_cminus_click_enabled = {
				has_political_power > 99
				check_variable = { THIS.TIC_c_unity > 0 }
			}
			
			

		# TIC Parliament
			TIC_parliament_parties_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_0_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_1_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_2_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_3_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_4_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_5_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_6_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_7_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_8_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_9_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_10_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_11_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_12_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_13_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_14_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_15_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_16_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_17_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_18_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_19_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_20_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_21_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_22_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parlparty_23_visible = {
				TIC_parliament_tab_open_trigger = yes
			}

			TIC_next_elections_title_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_next_elections_visible = {
				TIC_parliament_tab_open_trigger = yes
			}

			TIC_total_mp_count_title_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_total_mp_count_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_unaffiliated_mp_count_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_supermajority_mp_count_title_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_supermajority_mp_count_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parl_vote_countdown_title_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parl_vote_countdown_visible = {
				TIC_parliament_tab_open_trigger = yes
				has_global_flag = TIC_parl_ongoing_vote_flag
			}

			TIC_supporting_mp_count_title_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_rejecting_mp_count_title_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_abstaining_mp_count_title_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_supporting_mp_count_visible = {
				TIC_parliament_tab_open_trigger = yes
				has_global_flag = TIC_parl_ongoing_vote_flag
			}
			TIC_rejecting_mp_count_visible = {
				TIC_parliament_tab_open_trigger = yes
				has_global_flag = TIC_parl_ongoing_vote_flag
			}
			TIC_abstaining_mp_count_visible = {
				TIC_parliament_tab_open_trigger = yes
				has_global_flag = TIC_parl_ongoing_vote_flag
			}

			TIC_parl_pass_law_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parl_pass_law_click_enabled = {
				has_global_flag = TIC_parl_ongoing_vote_flag
				OR = {
					check_variable = { global.TIC_parl_sup_count > global.TIC_supermajority_count }
					check_variable = { global.TIC_parl_sup_count = global.TIC_supermajority_count }
				}
			}
			TIC_parl_block_law_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parl_block_law_click_enabled = {
				has_global_flag = TIC_parl_ongoing_vote_flag
				OR = {
					check_variable = { global.TIC_parl_rej_count > global.TIC_supermajority_count }
					check_variable = { global.TIC_parl_rej_count = global.TIC_supermajority_count }
				}
			}

			TIC_parliament_president_flag_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parliament_president_icon_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parliament_president_text_visible = {
				TIC_parliament_tab_open_trigger = yes
			}

			TIC_available_parl_laws_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_available_parl_expansions_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parl_active_laws_agenda_title_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parl_active_laws_agenda_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parl_active_exp_agenda_title_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
			TIC_parl_active_exp_agenda_visible = {
				TIC_parliament_tab_open_trigger = yes
			}
		# TIC Council

			TIC_council_president_flag_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_council_president_icon_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_council_president_text_visible = {
				TIC_council_tab_open_trigger = yes
			}

			TIC_available_council_laws_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_available_council_expansions_visible = {
				TIC_council_tab_open_trigger = yes
			}

			TIC_council_active_laws_vote_title_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_council_active_laws_vote_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_council_active_exp_vote_title_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_council_active_exp_vote_visible = {
				TIC_council_tab_open_trigger = yes
			}

			TIC_council_infl_country_title_visible = {
				TIC_council_tab_open_trigger = yes
			}

			TIC_council_countries_sm_title_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_council_countries_sm_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_council_countries_sup_title_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_council_countries_sup_visible = {
				TIC_council_tab_open_trigger = yes
				has_global_flag = TIC_council_ongoing_vote_flag
			}
			TIC_council_countries_rej_visible = {
				TIC_council_tab_open_trigger = yes
				has_global_flag = TIC_council_ongoing_vote_flag
			}
			TIC_council_pop_sm_title_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_council_pop_sm_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_council_pop_sup_title_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_council_pop_sup_visible = {
				TIC_council_tab_open_trigger = yes
				has_global_flag = TIC_council_ongoing_vote_flag
			}
			TIC_council_pop_rej_visible = {
				TIC_council_tab_open_trigger = yes
				has_global_flag = TIC_council_ongoing_vote_flag
			}
			TIC_council_countries_approving_visible = {
				TIC_council_tab_open_trigger = yes
			}

			TIC_council_approve_law_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_council_approve_law_click_enabled = {
				has_global_flag = TIC_council_ongoing_vote_flag
				NOT = { has_country_flag = TIC_council_approved_law }
			}
			TIC_council_reject_law_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_council_reject_law_click_enabled = {
				has_global_flag = TIC_council_ongoing_vote_flag
				NOT = { has_country_flag = TIC_council_rejected_law }
			}
			TIC_council_pass_law_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_council_pass_law_click_enabled = {
				has_global_flag = TIC_council_ongoing_vote_flag
				AND = {
					OR = {
						check_variable = { global.TIC_country_sup_count > global.TIC_country_sm_count }
						check_variable = { global.TIC_country_sup_count = global.TIC_country_sm_count }
					}
					OR = {
						check_variable = { global.TIC_pop_sup_count > global.TIC_pop_sm_count }
						check_variable = { global.TIC_pop_sup_count = global.TIC_pop_sm_count }
					}
				}
			}
			TIC_council_block_law_visible = {
				TIC_council_tab_open_trigger = yes
			}
			TIC_council_block_law_click_enabled = {
				has_global_flag = TIC_council_ongoing_vote_flag
				AND = {
					OR = {
						check_variable = { global.TIC_country_rej_count > global.TIC_country_sm_count }
						check_variable = { global.TIC_country_rej_count = global.TIC_country_sm_count }
					}
					OR = {
						check_variable = { global.TIC_pop_rej_count > global.TIC_pop_sm_count }
						check_variable = { global.TIC_pop_rej_count = global.TIC_pop_sm_count }
					}
				}
			}

		# TIC Institutions

		# TIC Military

		# TIC Legislations

		}

		effects = {

			TIC_close_button_click = {
				TIC_tab_selection = yes
				clr_country_flag = new_TIC_open
			}

			# Open Offices
			TIC_upper_button_1_click = {
				TIC_tab_selection = yes
				set_country_flag = TIC_offices_tab_open
			}
			# Open Info
			TIC_upper_button_2_click = {
				TIC_tab_selection = yes
				set_country_flag = TIC_info_tab_open
			}
			# Open Parliament
			TIC_upper_button_3_click = {
				TIC_tab_selection = yes
				set_country_flag = TIC_parliament_tab_open
			}
			# Open Parliament Blue ##########
			TIC_upper_button_3_b_click = {
				TIC_tab_selection = yes
				set_country_flag = TIC_parliament_tab_open
			}
			# Open Council
			TIC_upper_button_4_click = {
				TIC_tab_selection = yes
				set_country_flag = TIC_council_tab_open
			}
			# Open Council Blue ##########
			TIC_upper_button_4_b_click = {
				TIC_tab_selection = yes
				set_country_flag = TIC_council_tab_open
			}
			# Open Bank
			TIC_upper_button_5_click = {
				TIC_tab_selection = yes
				set_country_flag = TIC_bank_tab_open
			}
			# Open Institutions
			TIC_upper_button_6_click = {
				TIC_tab_selection = yes
				set_country_flag = TIC_institutions_tab_open
			}
			# Open Military
			TIC_upper_button_7_click = {
				TIC_tab_selection = yes
				set_country_flag = TIC_military_tab_open
			}
			# Open Space
			TIC_upper_button_8_click = {
				TIC_tab_selection = yes
				set_country_flag = TIC_space_tab_open
			}
			# Open Legislations
			TIC_upper_button_9_click = {
				TIC_tab_selection = yes
				set_country_flag = TIC_legislations_tab_open
			}

			# Office Select Effects
			TIC_office_1_click = {
				add_timed_idea = {
					idea = TIC_office_1_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.101
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_2_click = {
				add_timed_idea = {
					idea = TIC_office_2_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.102
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_3_click = {
				add_timed_idea = {
					idea = TIC_office_3_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.103
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_4_click = {
				add_timed_idea = {
					idea = TIC_office_4_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.104
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_5_click = {
				add_timed_idea = {
					idea = TIC_office_5_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.105
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_6_click = {
				add_timed_idea = {
					idea = TIC_office_6_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.106
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_7_click = {
				add_timed_idea = {
					idea = TIC_office_7_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.107
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_8_click = {
				add_timed_idea = {
					idea = TIC_office_8_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.108
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_9_click = {
				add_timed_idea = {
					idea = TIC_office_9_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.109
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_10_click = {
				add_timed_idea = {
					idea = TIC_office_10_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.110
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_11_click = {
				add_timed_idea = {
					idea = TIC_office_11_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.111
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_12_click = {
				add_timed_idea = {
					idea = TIC_office_12_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.112
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_13_click = {
				add_timed_idea = {
					idea = TIC_office_13_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.113
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_14_click = {
				add_timed_idea = {
					idea = TIC_office_14_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.114
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_15_click = {
				add_timed_idea = {
					idea = TIC_office_15_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.115
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_16_click = {
				add_timed_idea = {
					idea = TIC_office_16_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.116
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_17_click = {
				add_timed_idea = {
					idea = TIC_office_17_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.117
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_18_click = {
				add_timed_idea = {
					idea = TIC_office_18_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.118
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_19_click = {
				add_timed_idea = {
					idea = TIC_office_19_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.119
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_20_click = {
				add_timed_idea = {
					idea = TIC_office_20_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.120
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_21_click = {
				add_timed_idea = {
					idea = TIC_office_21_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.121
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_22_click = {
				add_timed_idea = {
					idea = TIC_office_22_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.122
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_23_click = {
				add_timed_idea = {
					idea = TIC_office_23_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.123
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_24_click = {
				add_timed_idea = {
					idea = TIC_office_24_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.124
				}
				update_TIC_dirty_variable = yes
			}
			TIC_office_25_click = {
				add_timed_idea = {
					idea = TIC_office_25_idea
					days = 1825
				}
				set_country_flag = TIC_holding_office
				for_each_scope_loop = {
					array = global.TIC_member
					news_event = TIC_news.125
				}
				update_TIC_dirty_variable = yes
			}

			####################
			##### TIC Info #####
			####################
			# Unity

			TIC_unity_gplus_click = {
				if = {
					limit = {
						has_political_power > TIC_unity_pp_cost_limit
						check_variable = { global.TIC_unity < 1 }
					}
					add_political_power = TIC_unity_pp_cost
					TIC_g_unity_increase = yes
					TIC_var_update = yes
				}
			}
			TIC_unity_gminus_click = {
				if = {
					limit = {
						has_political_power > TIC_unity_pp_cost_limit
						check_variable = { global.TIC_unity > 0 }
					}
					add_political_power = TIC_unity_pp_cost
					TIC_g_unity_decrease = yes
					TIC_var_update = yes
				}
			}
			TIC_unity_cplus_click = {
				if = {
					limit = {
						has_political_power > 99
						check_variable = { THIS.TIC_c_unity < 1 }
					}
					add_political_power = -100
					add_to_variable = { THIS.TIC_c_unity = 0.01 }
					TIC_var_update = yes
				}
			}
			TIC_unity_cminus_click = {
				if = {
					limit = {
						has_political_power > 99
						check_variable = { THIS.TIC_c_unity > 0 }
					}
					add_political_power = -100
					subtract_from_variable = { THIS.TIC_c_unity = 0.01 }
					TIC_var_update = yes
				}
			}
			
			##############################
			##### Parliament effects #####
			##############################

			TIC_parl_pass_law_click = {
				TIC_parl_pass_agenda = yes
			}

			TIC_parl_block_law_click = {
				TIC_parl_block_agenda = yes
			}
			
			###########################
			##### Council Effects #####
			########################### 
			
			TIC_council_approve_law_click = {
				if = {
					limit = { has_country_flag = TIC_council_rejected_law }
					subtract_from_variable = { global.TIC_country_rej_count = 1 }
					subtract_from_variable = { global.TIC_pop_rej_count = THIS.TIC_member_pop }
					clr_country_flag = TIC_council_rejected_law
				}
				add_to_variable = { global.TIC_country_sup_count = 1 }
				add_to_variable = { global.TIC_pop_sup_count = THIS.TIC_member_pop }
				add_to_array = { global.TIC_approving_country = THIS.id }
				set_country_flag = TIC_council_approved_law
				update_TIC_dirty_variable = yes
			}
			TIC_council_reject_law_click = {
				if = {
					limit = { has_country_flag = TIC_council_approved_law }
					subtract_from_variable = { global.TIC_country_sup_count = 1 }
					subtract_from_variable = { global.TIC_pop_sup_count = THIS.TIC_member_pop }
					clr_country_flag = TIC_council_approved_law
				}
				add_to_variable = { global.TIC_country_rej_count = 1 }
				add_to_variable = { global.TIC_pop_rej_count = THIS.TIC_member_pop }
				remove_from_array = { global.TIC_approving_country = THIS.id }
				set_country_flag = TIC_council_rejected_law
				update_TIC_dirty_variable = yes
			}

			TIC_council_pass_law_click = {
				if = {
					limit = { check_variable = { global.TIC_council_active_laws_agenda_name > 0 } }
					meta_effect = {
						text = {
							if = { check_variable = { global.TIC_council_active_laws_agenda_name > [index] } }
							set_global_flag = TIC_council_law_[index]_passed
						}
						index = "[?temp_council]"
					}
					set_temp_variable = { temp_council = global.TIC_council_active_laws_agenda_name }
					add_to_array = { global.TIC_council_passed_laws = temp_council }
					remove_from_array = { global.TIC_available_council_laws = temp_council }
					TIC_council_vote_clear = yes
					update_TIC_dirty_variable = yes
				}
				if = {
					limit = { check_variable = { global.TIC_council_active_exp_agenda_name > 0 } }
					set_temp_variable = { temp_council = global.TIC_council_active_exp_agenda_name }
					add_to_array = { global.TIC_council_passed_expansions = temp_council }
					remove_from_array = { global.TIC_available_council_expansions = temp_council }
					TIC_council_vote_clear = yes
					update_TIC_dirty_variable = yes
				}
			}

			TIC_council_block_law_click = {
				if = {
					limit = { check_variable = { global.TIC_council_active_laws_agenda_name > 0 } }
					TIC_council_vote_clear = yes
					update_TIC_dirty_variable = yes
				}
				if = {
					limit = { check_variable = { global.TIC_council_active_exp_agenda_name > 0 } }
					TIC_council_vote_clear = yes
					update_TIC_dirty_variable = yes
				}
			}
		}

	}


	TIC_info_dynlist_gui = {
		context_type = player_context
		parent_scripted_gui = intercontinental_confederation_gui
		window_name = "TIC_info_list_screen"
		dirty = global.TIC_dirty_update_var

		visible = {
			TIC_info_tab_open_trigger = yes
		}

		dynamic_lists = {
			TIC_info_list_gridbox = {
				array = global.TIC_member
				entry_container = "TIC_info_dynlist"
				change_scope = yes
			}
		}
	}

	TIC_parl_laws_dynlist_gui = {
		context_type = player_context
		parent_scripted_gui = intercontinental_confederation_gui
		window_name = "TIC_parl_laws_list_screen"
		dirty = global.TIC_dirty_update_var

		visible = {
			TIC_parliament_tab_open_trigger = yes
		}

		dynamic_lists = {
			TIC_parl_laws_list_gridbox = {
				array = global.TIC_available_parl_laws
				entry_container = "TIC_available_parl_laws_list"
			}
		}

		triggers = {
			TIC_available_parl_laws_button_click_enabled = {
				NOT = { has_global_flag = TIC_parl_ongoing_vote_flag }
				check_variable = { global.TIC_parl_elections_cd > 14 }

				if = {
					limit = { check_variable = { v = 102 } }
					custom_trigger_tooltip = {
						tooltip = law_102_tooltip
						is_in_array = { global.TIC_council_passed_laws = 101 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 103 } }
					custom_trigger_tooltip = {
						tooltip = law_103_tooltip
						is_in_array = { global.TIC_council_passed_laws = 102 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 104 } }
					custom_trigger_tooltip = {
						tooltip = law_104_tooltip
						is_in_array = { global.TIC_council_passed_laws = 103 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 105 } }
					custom_trigger_tooltip = {
						tooltip = law_105_tooltip
						is_in_array = { global.TIC_council_passed_laws = 104 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 106 } }
					custom_trigger_tooltip = {
						tooltip = law_106_tooltip
						is_in_array = { global.TIC_council_passed_laws = 104 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 107 } }
					custom_trigger_tooltip = {
						tooltip = law_107_tooltip
						is_in_array = { global.TIC_council_passed_laws = 104 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 108 } }
					custom_trigger_tooltip = {
						tooltip = law_108_tooltip
						is_in_array = { global.TIC_council_passed_laws = 104 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 109 } }
					custom_trigger_tooltip = {
						tooltip = law_109_tooltip
						is_in_array = { global.TIC_council_passed_laws = 104 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 110 } }
					custom_trigger_tooltip = {
						tooltip = law_110_tooltip
						is_in_array = { global.TIC_council_passed_laws = 104 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 111 } }
					custom_trigger_tooltip = {
						tooltip = law_111_tooltip
						is_in_array = { global.TIC_council_passed_laws = 104 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 112 } }
					custom_trigger_tooltip = {
						tooltip = law_112_tooltip
						is_in_array = { global.TIC_council_passed_laws = 105 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 113 } }
					custom_trigger_tooltip = {
						tooltip = law_113_tooltip
						is_in_array = { global.TIC_council_passed_laws = 106 }
						is_in_array = { global.TIC_council_passed_laws = 107 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 114 } }
					custom_trigger_tooltip = {
						tooltip = law_114_tooltip
						is_in_array = { global.TIC_council_passed_laws = 104 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 115 } }
					custom_trigger_tooltip = {
						tooltip = law_115_tooltip
						is_in_array = { global.TIC_council_passed_laws = 114 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 116 } }
					custom_trigger_tooltip = {
						tooltip = law_116_tooltip
						is_in_array = { global.TIC_council_passed_laws = 114 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 117 } }
					custom_trigger_tooltip = {
						tooltip = law_117_tooltip
						is_in_array = { global.TIC_council_passed_laws = 114 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 118 } }
					custom_trigger_tooltip = {
						tooltip = law_118_tooltip
						is_in_array = { global.TIC_council_passed_laws = 115 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 119 } }
					custom_trigger_tooltip = {
						tooltip = law_119_tooltip
						is_in_array = { global.TIC_council_passed_laws = 116 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 120 } }
					custom_trigger_tooltip = {
						tooltip = law_120_tooltip
						is_in_array = { global.TIC_council_passed_laws = 117 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 121 } }
					custom_trigger_tooltip = {
						tooltip = law_121_tooltip
						is_in_array = { global.TIC_council_passed_laws = 109 }
						is_in_array = { global.TIC_council_passed_laws = 111 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 122 } }
					custom_trigger_tooltip = {
						tooltip = law_122_tooltip
						is_in_array = { global.TIC_council_passed_laws = 121 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 123 } }
					custom_trigger_tooltip = {
						tooltip = law_123_tooltip
						is_in_array = { global.TIC_council_passed_laws = 121 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 124 } }
					custom_trigger_tooltip = {
						tooltip = law_124_tooltip
						is_in_array = { global.TIC_council_passed_laws = 121 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 125 } }
					custom_trigger_tooltip = {
						tooltip = law_125_tooltip
						is_in_array = { global.TIC_council_passed_laws = 121 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 126 } }
					custom_trigger_tooltip = {
						tooltip = law_126_tooltip
						is_in_array = { global.TIC_council_passed_laws = 121 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 127 } }
					custom_trigger_tooltip = {
						tooltip = law_127_tooltip
						is_in_array = { global.TIC_council_passed_laws = 121 }
					}
				}
			}
		}

		effects = {
			TIC_available_parl_laws_button_click = {
				set_variable = { global.TIC_parl_active_laws_agenda_name = v }
				set_global_flag = { flag = TIC_parl_ongoing_vote_flag value = 1 days = 14 }
				TIC_parl_ongoing_vote = yes

				update_TIC_dirty_variable = yes
			}
		}

	}
	TIC_parl_expansions_dynlist_gui = {
		context_type = player_context
		parent_scripted_gui = intercontinental_confederation_gui
		window_name = "TIC_parl_expansions_list_screen"
		dirty = global.TIC_dirty_update_var

		visible = {
			TIC_parliament_tab_open_trigger = yes
		}

		dynamic_lists = {
			TIC_parl_expansions_list_gridbox = {
				array = global.TIC_available_parl_expansions
				entry_container = "TIC_available_parl_expansions_list"
			}
		}

		triggers = {
			TIC_available_exp_button_click_enabled = {
				NOT = { has_global_flag = TIC_parl_ongoing_vote_flag }
				check_variable = { global.TIC_parl_elections_cd > 14 }

				if = {
					limit = { check_variable = { v = 101 } }
					custom_trigger_tooltip = {
						tooltip = exp_101_tooltip
						is_in_array = { global.TIC_council_passed_laws = 122 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 102 } }
					custom_trigger_tooltip = {
						tooltip = exp_102_tooltip
						is_in_array = { global.TIC_council_passed_laws = 122 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 103 } }
					custom_trigger_tooltip = {
						tooltip = exp_103_tooltip
						is_in_array = { global.TIC_council_passed_laws = 122 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 104 } }
					custom_trigger_tooltip = {
						tooltip = exp_104_tooltip
						is_in_array = { global.TIC_council_passed_laws = 123 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 105 } }
					custom_trigger_tooltip = {
						tooltip = exp_105_tooltip
						is_in_array = { global.TIC_council_passed_laws = 123 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 106 } }
					custom_trigger_tooltip = {
						tooltip = exp_106_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 104 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 107 } }
					custom_trigger_tooltip = {
						tooltip = exp_107_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 105 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 108 } }
					custom_trigger_tooltip = {
						tooltip = exp_108_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 104 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 109 } }
					custom_trigger_tooltip = {
						tooltip = exp_109_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 104 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 110 } }
					custom_trigger_tooltip = {
						tooltip = exp_110_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 108 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 111 } }
					custom_trigger_tooltip = {
						tooltip = exp_111_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 108 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 112 } }
					custom_trigger_tooltip = {
						tooltip = exp_112_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 109 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 113 } }
					custom_trigger_tooltip = {
						tooltip = exp_113_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 109 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 114 } }
					custom_trigger_tooltip = {
						tooltip = exp_114_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 113 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 115 } }
					custom_trigger_tooltip = {
						tooltip = exp_115_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 112 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 116 } }
					custom_trigger_tooltip = {
						tooltip = exp_116_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 104 }
						is_in_array = { global.TIC_council_passed_expansions = 105 }
						is_in_array = { global.TIC_council_passed_expansions = 108 }
						is_in_array = { global.TIC_council_passed_expansions = 109 }
						is_in_array = { global.TIC_council_passed_expansions = 110 }
						is_in_array = { global.TIC_council_passed_expansions = 112 }
						is_in_array = { global.TIC_council_passed_expansions = 115 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 117 } }
					custom_trigger_tooltip = {
						tooltip = exp_117_tooltip
						is_in_array = { global.TIC_council_passed_laws = 123 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 118 } }
					custom_trigger_tooltip = {
						tooltip = exp_118_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 117 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 119 } }
					custom_trigger_tooltip = {
						tooltip = exp_119_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 118 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 120 } }
					custom_trigger_tooltip = {
						tooltip = exp_120_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 118 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 121 } }
					custom_trigger_tooltip = {
						tooltip = exp_121_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 119 }
						is_in_array = { global.TIC_council_passed_expansions = 120 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 122 } }
					custom_trigger_tooltip = {
						tooltip = exp_122_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 121 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 123 } }
					custom_trigger_tooltip = {
						tooltip = exp_123_tooltip
						is_in_array = { global.TIC_council_passed_laws = 125 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 124 } }
					custom_trigger_tooltip = {
						tooltip = exp_124_tooltip
						is_in_array = { global.TIC_council_passed_laws = 125 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 125 } }
					custom_trigger_tooltip = {
						tooltip = exp_125_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 124 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 126 } }
					custom_trigger_tooltip = {
						tooltip = exp_126_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 124 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 127 } }
					custom_trigger_tooltip = {
						tooltip = exp_127_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 124 }
						is_in_array = { global.TIC_council_passed_expansions = 125 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 128 } }
					custom_trigger_tooltip = {
						tooltip = exp_128_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 123 } ##################################################################
					}
				}
				else_if = {
					limit = { check_variable = { v = 129 } }
					custom_trigger_tooltip = {
						tooltip = exp_129_tooltip
						is_in_array = { global.TIC_council_passed_laws = 126 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 130 } }
					custom_trigger_tooltip = {
						tooltip = exp_130_tooltip
						is_in_array = { global.TIC_council_passed_laws = 126 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 131 } }
					custom_trigger_tooltip = {
						tooltip = exp_131_tooltip
						is_in_array = { global.TIC_council_passed_laws = 126 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 132 } }
					custom_trigger_tooltip = {
						tooltip = exp_132_tooltip
						is_in_array = { global.TIC_council_passed_expansions = 129 }
						is_in_array = { global.TIC_council_passed_expansions = 130 }
						is_in_array = { global.TIC_council_passed_expansions = 131 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 133 } }
					custom_trigger_tooltip = {
						tooltip = exp_133_tooltip
						is_in_array = { global.TIC_council_passed_laws = 127 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 134 } }
					custom_trigger_tooltip = {
						tooltip = exp_134_tooltip
						is_in_array = { global.TIC_council_passed_laws = 127 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 135 } }
					custom_trigger_tooltip = {
						tooltip = exp_135_tooltip
						is_in_array = { global.TIC_council_passed_laws = 127 }
					}
				}
				else_if = {
					limit = { check_variable = { v = 136 } }
					custom_trigger_tooltip = {
						tooltip = exp_136_tooltip
						is_in_array = { global.TIC_council_passed_laws = 127 }
					}
				}
			}
		}

		effects = {
			TIC_available_exp_button_click = {
				set_variable = { global.TIC_parl_active_exp_agenda_name = v }
				set_global_flag = { flag = TIC_parl_ongoing_vote_flag value = 1 days = 14 }
				TIC_parl_ongoing_vote = yes
				update_TIC_dirty_variable = yes
			}
		}

	}

	TIC_parlparty_influence_dynlist_gui = {
		context_type = player_context
		parent_scripted_gui = intercontinental_confederation_gui
		window_name = "TIC_influence_party_screen"
		dirty = global.TIC_dirty_update_var

		visible = {
			TIC_parliament_tab_open_trigger = yes
		}

		dynamic_lists = {
			TIC_influence_party_gridbox = {
				array = global.TIC_parlparty_number
				entry_container = "TIC_influence_party_list"
			}
		}

		triggers = {
			TIC_influence_party_button_click_enabled = {
				has_global_flag = TIC_parl_ongoing_vote_flag
			}
		}

		effects = {
			TIC_influence_party_button_click = {
				meta_effect = {
					text = {
						if = {
							limit = {
								has_political_power > global.TIC_parlparty_[index]_infl_cost
								has_global_flag = TIC_parlparty_[index]_abs_flag
							}
							add_political_power = global.TIC_parlparty_[index]_infl_cost_minus
							clr_global_flag = TIC_parlparty_[index]_abs_flag
							set_global_flag = TIC_parlparty_[index]_sup_flag
							TIC_parlparty_[index]_abs_sub_effect = yes
							TIC_parlparty_[index]_sup_add_effect = yes
							update_TIC_dirty_variable = yes
						}
						else_if = {
							limit = {
								has_political_power > global.TIC_parlparty_[index]_infl_cost_2
								has_global_flag = TIC_parlparty_[index]_rej_flag
							}
							add_political_power = global.TIC_parlparty_[index]_infl_cost_2_minus
							clr_global_flag = TIC_parlparty_[index]_rej_flag
							set_global_flag = TIC_parlparty_[index]_sup_flag
							TIC_parlparty_[index]_rej_sub_effect = yes
							TIC_parlparty_[index]_sup_add_effect = yes
							update_TIC_dirty_variable = yes
						}
					}
					index = "[?v]"
				}
			}
			TIC_influence_party_button_right_click = {
				meta_effect = {
					text = {
						if = {
							limit = {
								has_political_power > global.TIC_parlparty_[index]_infl_cost
								has_global_flag = TIC_parlparty_[index]_abs_flag
							}
							add_political_power = global.TIC_parlparty_[index]_infl_cost_minus
							clr_global_flag = TIC_parlparty_[index]_abs_flag
							set_global_flag = TIC_parlparty_[index]_rej_flag
							TIC_parlparty_[index]_abs_sub_effect = yes
							TIC_parlparty_[index]_rej_add_effect = yes
							update_TIC_dirty_variable = yes
						}
						else_if = {
							limit = {
								has_political_power > global.TIC_parlparty_[index]_infl_cost_2
								has_global_flag = TIC_parlparty_[index]_sup_flag
							}
							add_political_power = global.TIC_parlparty_[index]_infl_cost_2_minus
							clr_global_flag = TIC_parlparty_[index]_sup_flag
							set_global_flag = TIC_parlparty_[index]_rej_flag
							TIC_parlparty_[index]_sup_sub_effect = yes
							TIC_parlparty_[index]_rej_add_effect = yes
							update_TIC_dirty_variable = yes
						}
					}
					index = "[?v]"
				}
			}
		}
	}

	TIC_council_laws_dynlist_gui = {
		context_type = player_context
		parent_scripted_gui = intercontinental_confederation_gui
		window_name = "TIC_council_laws_list_screen"
		dirty = global.TIC_dirty_update_var

		visible = {
			TIC_council_tab_open_trigger = yes
		}

		dynamic_lists = {
			TIC_council_laws_list_gridbox = {
				array = global.TIC_available_council_laws
				entry_container = "TIC_available_council_laws_list"
			}
		}

		triggers = {
			TIC_available_council_laws_button_click_enabled = {
				NOT = { has_global_flag = TIC_council_ongoing_vote_flag }
			}
		}

		effects = {
			TIC_available_council_laws_button_click = {
				set_variable = { global.TIC_council_active_laws_agenda_name = v }
				set_global_flag = { flag = TIC_council_ongoing_vote_flag value = 1 days = 14 }
				TIC_council_ongoing_vote = yes

				update_TIC_dirty_variable = yes
			}
		}

	}
	TIC_council_expansions_dynlist_gui = {
		context_type = player_context
		parent_scripted_gui = intercontinental_confederation_gui
		window_name = "TIC_council_expansions_list_screen"
		dirty = global.TIC_dirty_update_var

		visible = {
			TIC_council_tab_open_trigger = yes
		}

		dynamic_lists = {
			TIC_council_expansions_list_gridbox = {
				array = global.TIC_available_council_expansions
				entry_container = "TIC_available_council_expansions_list"
			}
		}

		triggers = {
			TIC_available_council_exp_button_click_enabled = {
				NOT = { has_global_flag = TIC_council_ongoing_vote_flag }
			}
		}

		effects = {
			TIC_available_council_exp_button_click = {
				set_variable = { global.TIC_council_active_exp_agenda_name = v }
				set_global_flag = { flag = TIC_council_ongoing_vote_flag value = 1 days = 14}
				TIC_council_ongoing_vote = yes
				update_TIC_dirty_variable = yes
			}
		}

	}

	TIC_council_country_dynlist_gui = {
		context_type = player_context
		parent_scripted_gui = intercontinental_confederation_gui
		window_name = "TIC_infl_country_list_screen"
		dirty = global.TIC_dirty_update_var

		visible = {
			TIC_council_tab_open_trigger = yes
		}

		dynamic_lists = {
			TIC_infl_country_list_gridbox = {
				array = global.TIC_member
				entry_container = "TIC_infl_country_list"
				change_scope = yes
			}
		}
	}

	TIC_council_approving_country_dynlist_gui = {
		context_type = player_context
		parent_scripted_gui = intercontinental_confederation_gui
		window_name = "TIC_country_approving_screen"
		dirty = global.TIC_dirty_update_var

		visible = {
			TIC_council_tab_open_trigger = yes
		}

		dynamic_lists = {
			TIC_country_approving_gridbox = {
				array = global.TIC_approving_country
				entry_container = "TIC_country_approving_list"
				change_scope = yes
			}
		}
	}

}
